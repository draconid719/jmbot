{% extends "bot/base.html" %}
{% block content %}
{% load static %}
    <form style="margin-top: 90px; margin-left: 77%;">
      <label style="color: white;">Filter: </label>
      <input onclick="searches('all')" type="radio" id="all" name="filter" value="all">
      <label for="all" style="color: white;">All</label>
      <input onclick= "searches('Active')" type="radio" id="active" name="filter" value="active" >
      <label for="active" style="color: white;">Active</label>
      <input onclick= "searches('Inactive')" type="radio" id="inactive" name="filter" value="inactive">
      <label for="inactive" style="color: white;">Inactive</label>
    </form>
    <div class="container">
      <input type="hidden" name="fil" id="filter" value="{{filter}}">
      <div class="row sm-gutters">

    {% if bots|length < 1 %}
        
              <h1 class="mt-5 mb-5 text-white" style="top: 50%; left: 50%; margin-top: 100px; margin-left: 37%; padding-top: 200px">There is no bot...</h1>
    {% else %}

            {% for data in bots %}
              <div class="col-md-6 col-lg-4 col-xl-3">
                <div class="crypt-fulldiv-linechart mt-4">
                <div>
    	            <a href="{% url 'modifyarbitbot-page' data.id %}"><div style="float: left; margin-left: 20px "><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
    				width="20" height="20"
    				viewBox="0 0 172 172"
    				style=" fill:#000000;"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g fill="#ffffff"><path d="M113.8425,0.43c-0.77937,0.1075 -1.505,0.49719 -2.0425,1.075l-25.585,25.585c-0.55094,0.33594 -0.99437,0.81969 -1.29,1.3975l-18.3825,18.3825c-0.48375,0.29563 -0.88687,0.69875 -1.1825,1.1825c-0.08062,0.1075 -0.14781,0.215 -0.215,0.3225c-0.04031,0.06719 -0.08062,0.14781 -0.1075,0.215c0,0.04031 0,0.06719 0,0.1075l-21.6075,48.0525l-17.415,17.415c-0.67187,0.645 -1.04812,1.54531 -1.04812,2.4725c0,0.92719 0.37625,1.8275 1.04812,2.4725l1.935,1.935l-26.9825,27.09c-0.84656,0.81969 -1.22281,2.01563 -0.98094,3.17125c0.24188,1.15563 1.06156,2.10969 2.16344,2.52625l38.915,14.9425c1.26313,0.48375 2.6875,0.18813 3.655,-0.7525l15.05,-15.1575l2.15,2.15c1.34375,1.33031 3.49375,1.33031 4.8375,0l17.5225,-17.5225l48.0525,-21.5c0.34938,-0.12094 0.67188,-0.30906 0.9675,-0.5375c0.25531,-0.215 0.47031,-0.47031 0.645,-0.7525l18.705,-18.705c0.14781,-0.09406 0.29563,-0.20156 0.43,-0.3225l0.1075,-0.1075c0.25531,-0.215 0.47031,-0.47031 0.645,-0.7525l16.6625,-16.555c1.37063,-1.33031 1.38406,-3.52062 0.05375,-4.89125c-1.33031,-1.37062 -3.52062,-1.38406 -4.89125,-0.05375l-14.835,14.835l-57.9425,-58.05l23.7575,-23.7575c1.075,-1.02125 1.38406,-2.62031 0.7525,-3.96406c-0.645,-1.35719 -2.06937,-2.13656 -3.5475,-1.94844zM87.935,35.045l58.05,57.9425l-14.9425,14.9425l-57.9425,-58.05zM69.23,55.9l55.7925,55.7925l-44.075,19.78c-0.38969,0.14781 -0.7525,0.36281 -1.075,0.645l-15.5875,15.5875l-1.935,-1.935c-0.04031,-0.04031 -0.06719,-0.06719 -0.1075,-0.1075l-13.4375,-13.4375l-13.6525,-13.76c-0.1075,-0.08062 -0.215,-0.14781 -0.3225,-0.215l-1.505,-1.6125l15.48,-15.48c0.3225,-0.30906 0.57781,-0.67187 0.7525,-1.075zM32.895,125.99l22.145,22.145l-13.545,13.4375l-31.82,-12.255z"></path></g></g></svg></div></a>
    	            <a href="{% url 'deletearbitbot-page' data.id %}"><div style="float: right; margin-right: 20px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
    				width="20" height="20"
    				viewBox="0 0 172 172"
    				style=" fill:#000000;"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g fill="#ffffff"><path d="M26.5525,21.6075l-4.945,4.945l59.4475,59.4475l-59.4475,59.4475l4.945,4.945l59.4475,-59.4475l59.4475,59.4475l4.945,-4.945l-59.4475,-59.4475l59.4475,-59.4475l-4.945,-4.945l-59.4475,59.4475z"></path></g></g></svg></div></a>
    			</div>
                  <h4 class="coinname">{{data.name}}</h4>
                  <p><span><b> Status: </b> {{data.livestatus}}</span></p>
                  <div
                        class ="crypt-individual-marketcap"
                        data-charts ="[65,59,81,81,56,55,40,80,90]" 
                        data-bg = "fdddb7"
                        data-border = "f8a036">
                        <canvas></canvas>
                      </div>
                      <div class="coin-meta-data text-center">
                        <div style="width: 150px" >
                          <a href="{% url 'myarbitbotsdetail-page' data.id %}"><button style="cursor: pointer;" class="crypt-button-green-full">View Bot</button> </a>
                        </div>
                      </div>
                      
                </div>
              </div>
            {% endfor %}
          </div>
        </div>
    {% endif %}

    {% if bots.has_other_pages %}
        <nav aria-label="..." style="display: flex; justify-content: center; margin-top: 20px;">
          <ul class="pagination">
            {% if bots.has_previous %}
              <li class="page-item">
                <a class="page-link" href="?page={{ bots.previous_page_number }}" tabindex="-1" style="color: black;">Previous</a>
              </li>
            {% else %}
               <li class="page-item disabled">
                <a class="page-link" href="#" tabindex="-1" style="color: black;">Previous</a>
              </li>
            {% endif %}
            {% for i in bots.paginator.page_range %}
              {% if bots.number == i %}
                <li class="page-item active">
                  <a class="page-link" href="#">{{i}} <span class="sr-only">(current)</span></a>
                </li>
              {% else %}
                <li class="page-item"><a style="color: black;" class="page-link" href="?page={{ i }}">{{i}}</a></li>
              {% endif%}
            {% endfor %}
            {% if bots.has_next %}
              <li class="page-item">
                <a class="page-link" href="?page={{ bots.next_page_number }}" style="color: black;">Next</a>
              </li>
            {% else %}
              <li class="page-item disabled">
                <a class="page-link" href="#" style="color: black;">Next</a>
              </li>
            {% endif %}
          </ul>
        </nav>
      {% endif %}

{% endblock content %}

{% block scripts %}
    {{ block.super }}
    <script type="text/javascript">
      var filter = document.getElementById('filter').value 
      if (filter == 'Inactive') {
        document.getElementById('inactive').setAttribute('checked', '')
      }else if (filter == 'Active'){
        document.getElementById('active').setAttribute('checked', '')
      }else{
        document.getElementById('all').setAttribute('checked', '')
      }

      function searches(query){
        const urlParams = new URLSearchParams(window.location.search);

        urlParams.set('filter', query);

        window.location.search = urlParams;
      };

    </script>
    
{% endblock scripts %}